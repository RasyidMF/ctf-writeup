# Phone (70 Points)
My boss was calling me yesterday but I wasn't able to answer the phone. He left me an encoded message in the voicemail. There are a lot of weird sounds going on. I have to know what he wanted to tell me. Could you help me decode it? I bet it's something important.
Here is the audio file from my voicemail:
# Solved
Dikarenakan Character nya banyak sekali, tidak seperti challenge <b>Tone Dialing</b>, saya menggunakan https://github.com/ribt/dtmf-decoder
```console
$ dtmf phone.wav
9892730000000100110110081000000#011A1110100011001010111110#0100010101800B0101110100010#0100010100110011110100010#0100010111101011010100010#0111110101110001010111110#0000000101010101010000000#1111111110100111011111111#0011000111110111011010000#118000011000010710010100110#10101001071101100111000111#00000011110150100001101001#10000100C01000111000111000#001001001101010100100000#1110100011000010111100011#11111110210011D111101001010#000011001001101000B0001010#1111111100000110011100110#0000000111100000010101011#011111010410011010111C01011#01000310101111111000001001#01000101101000071000011100#01000101911001001001011001#0111110100011110010101001#000000010111111010D0000000#476528
```
Diberikan karakter yang sangat banyak, dan dimulai <b>989273</b> dan seterusnya seperti angka binary. Disini saya memodifikasi angka yang selain <b>0</b> dan <b>1</b> saya hapus
```python
target = "9892730000000100110110081000000#011A1110100011001010111110#0100010101800B0101110100010#0100010100110011110100010#0100010111101011010100010#0111110101110001010111110#0000000101010101010000000#1111111110100111011111111#0011000111110111011010000#118000011000010710010100110#10101001071101100111000111#00000011110150100001101001#10000100C01000111000111000#001001001101010100100000#1110100011000010111100011#11111110210011D111101001010#000011001001101000B0001010#1111111100000110011100110#0000000111100000010101011#011111010410011010111C01011#01000310101111111000001001#01000101101000071000011100#01000101911001001001011001#0111110100011110010101001#000000010111111010D0000000#476528"
res = ""

for x in target:
    if x == "0" or x == "1":
        res += x

print res
```
```console
$ python extract.py
00000001001101100100000001111101000110010101111100100010101000101110100010010001010011001111010001001000101111010110101000100111110101110001010111110000000010101010101000000011111111101001110111111110011000111110111011010000110000110000101001010011010101001011011001110001110000001111010100001101001100001000100011100011100000100100110101010010000011101000110000101111000111111111010011111101001010000011001001101000000101011111111000001100111001100000000111100000010101011011111010100110101110101101000101011111110000010010100010110100001000011100010001011100100100101100101111101000111100101010010000000101111110100000000
```
Disini saya mencoba ambil 8 angka dan mengdecode nya ternyata dapat angka yang tidak masuk akal,
```
00000001 => 1
00110110 => 54

Dst...
```
Kemudian saya mencari tahu maksud dari Binary ini dengan menggunakan <b>Block</b> pada Visual Studio Code, saya menemukan seperti gambaran <b>QR Code</b>, kemudian saya mencoba membuat hal tersebut. <i><b>1 = 255, 0 = White / Blank</b></i>
```python
data = "00000001001101100100000001111101000110010101111100100010101000101110100010010001010011001111010001001000101111010110101000100111110101110001010111110000000010101010101000000011111111101001110111111110011000111110111011010000110000110000101001010011010101001011011001110001110000001111010100001101001100001000100011100011100000100100110101010010000011101000110000101111000111111111010011111101001010000011001001101000000101011111111000001100111001100000000111100000010101011011111010100110101110101101000101011111110000010010100010110100001000011100010001011100100100101100101111101000111100101010010000000101111110100000000"
res = []

for x in data:
    if x == "1":
        res.append(255)
    else: res.append(x)

print(res)
```
```console
$ python3 solve.py
['0', '0', '0', '0', '0', '0', '0', 255, '0', '0', 255, 255, '0', 255, 255, '0', '0', 255, '0', '0', '0', '0', '0', '0', '0', 255, 255, 255, 255, 255, '0', 255, '0', '0', '0', 255, 255, '0', '0', 255, '0', 255, '0', 255, 255, 255, 255, 255, '0', '0', 255, '0', '0', '0', 255, '0', 255, '0', 255, '0', '0', '0', 255, '0', 255, 255, 255, '0', 255, '0', '0', '0', 255, '0', '0', 255, '0', '0', '0', 255, '0', 255, '0', '0', 255, 255, '0', '0', 255, 255, 255, 255, '0', 255, '0', '0', '0', 255, '0', '0', 255, '0', '0', '0', 255, '0', 255, 255, 255, 255, '0', 255, '0', 255, 255, '0', 255, '0', 255, '0', '0', '0', 255, '0', '0', 255, 255, 255, 255, 255, '0', 255, '0', 255, 255, 255, '0', '0', '0', 255, '0', 255, '0', 255, 255, 255, 255, 255, '0', '0', '0', '0', '0', '0', '0', '0', 255, '0', 255, '0', 255, '0', 255, '0', 255, '0', 255, '0', '0', '0', '0', '0', '0', '0', 255, 255, 255, 255, 255, 255, 255, 255, 255, '0', 255, '0', '0', 255, 255, 255, '0', 255, 255, 255, 255, 255, 255, 255, 255, '0', '0', 255, 255, '0', '0', '0', 255, 255, 255, 255, 255, '0', 255, 255, 255, '0', 255, 255, '0', 255, '0', '0', '0', '0', 255, 255, '0', '0', '0', '0', 255, 255, '0', '0', '0', '0', 255, '0', 255, '0', '0', 255, '0', 255, '0', '0', 255, 255, '0', 255, '0', 255, '0', 255, '0', '0', 255, '0', 255, 255, '0', 255, 255, '0', '0', 255, 255, 255, '0', '0', '0', 255, 255, 255, '0', '0', '0', '0', '0', '0', 255, 255, 255, 255, '0', 255, '0', 255, '0', '0', '0', '0', 255, 255, '0', 255, '0', '0', 255, 255, '0', '0', '0', '0', 255, '0', '0', '0', 255, '0', '0', '0', 255, 255, 255, '0', '0', '0', 255, 255, 255, '0', '0', '0', '0', '0', 255, '0', '0', 255, '0', '0', 255, 255, '0', 255, '0', 255, '0', 255, '0', '0', 255, '0', '0', '0', '0', '0', 255, 255, 255, '0', 255, '0', '0', '0', 255, 255, '0', '0', '0', '0', 255, '0', 255, 255, 255, 255, '0', '0', '0', 255, 255, 255, 255, 255, 255, 255, 255, 255, '0', 255, '0', '0', 255, 255, 255, 255, 255, 255, '0', 255, '0', '0', 255, '0', 255, '0', '0', '0', '0', '0', 255, 255, '0', '0', 255, '0', '0', 255, 255, '0', 255, '0', '0', '0', '0', '0', '0', 255, '0', 255, '0', 255, 255, 255, 255, 255, 255, 255, 255, '0', '0', '0', '0', '0', 255, 255, '0', '0', 255, 255, 255, '0', '0', 255, 255, '0', '0', '0', '0', '0', '0', '0', '0', 255, 255, 255, 255, '0', '0', '0', '0', '0', '0', 255, '0', 255, '0', 255, '0', 255, 255, '0', 255, 255, 255, 255, 255, '0', 255, '0', 255, '0', '0', 255, 255, '0', 255, '0', 255, 255, 255, '0', 255, '0', 255, 255, '0', 255, '0', '0', '0', 255, '0', 255, '0', 255, 255, 255, 255, 255, 255, 255, '0', '0', '0', '0', '0', 255, '0', '0', 255, '0', 255, '0', '0', '0', 255, '0', 255, 255, '0', 255, '0', '0', '0', '0', 255, '0', '0', '0', '0', 255, 255, 255, '0', '0', '0', 255, '0', '0', '0', 255, '0', 255, 255, 255, '0', '0', 255, '0', '0', 255, '0', '0', 255, '0', 255, 255, '0', '0', 255, '0', 255, 255, 255, 255, 255, '0', 255, '0', '0', '0', 255, 255, 255, 255, '0', '0', 255, '0', 255, '0', 255, '0', '0', 255, '0', '0', '0', '0', '0', '0', '0', 255, '0', 255, 255, 255, 255, 255, 255, '0', 255, '0', '0', '0', '0', '0', '0', '0', '0']
```
Kemudian saya megubah hal tersebut menjadi gambar dengan menggunakan <b>numpy</b> dan <b>cv2</b> untuk re-size. Tapi sebelum itu saya harus menentukan <b>Width</b> dan <b>Height</b> dari data array tersebut, akan tetapi jika saya menghitung nya
```
>>> len(data)
623
```
Angka tersebut tidak dapat ditemukan antara <b>Width</b> * <b>Height</b>. Kemudian saya tambahkan 2 huruf <b>0</b> agar menjadi <b>625</b>, karena <b>25</b> x <b>25</b> = <b>625</b>. <i>Setelah saya compile ternyata ada kesalahan pada penambahan 2 karakter tersebut. Kemudian saya parse lagi 1 per 1 dan mengembalikan semua data yang diberikan termasuk <b>#</b>, bahwa ada 2 dari <b>25</b> teks yang tidak terhitung sebagai <b>25</b>. Kemudian saya menambahkannya 0 agar menjadi rata <b>25x25</b></i>
```python
import cv2
import numpy

data = "0000000100110110010000000011111010001100101011111001000101010001011101000100100010100110011110100010010001011110101101010001001111101011100010101111100000000101010101010000000111111111010011101111111100110001111101110110100001100001100001010010100110101010010110110011100011100000011110101000011010011000010001000111000111000000100100110101010010000011101000110000101111000111111111010011111101001010000011001001101000000101011111111000001100111001100000000111100000010101011011111010100110101110101101000101011111110000010010100010110100001000011100010001011100100100101100101111101000111100101010010000000101111110100000000"
res = []

for x in data:
    if x == "1":
        res.append(255)
    else: res.append(x)

img = numpy.array(res)
img = img.reshape(25, 25).astype('float32')
resized = cv2.resize(img, (500, 500), interpolation = cv2.INTER_AREA) # Agar gambar tidak blur saat dilihat
cv2.imwrite('Result.png', resized)
```
Decode gambar tersebut, saya menggunakan https://zxing.org/w/decode.jspx
```
Parsed Result
CTFlearn{DTMF_1s_y0ur_fr13nd}
```
Flag : <b>CTFlearn{DTMF_1s_y0ur_fr13nd}</b>